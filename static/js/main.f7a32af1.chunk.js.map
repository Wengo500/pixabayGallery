{"version":3,"sources":["redux/reducers/jsonObjReducer.jsx","redux/store.jsx","components/photoCards/Tag.jsx","components/cardPage/CardPage.jsx","components/header/Header.jsx","components/photoCards/PhotoCard.jsx","components/mainPage/MainPage.jsx","redux/thunks/getJsonThunk.jsx","components/routers/Routers.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["NEW_JSON","CHANGE_TAG_JSON","initialState","jsonObjReducer","state","action","type","payload","newTagObj","find","el","id","cardId","tags","tagName","newState","forEach","splice","reducers","combineReducers","jsonObj","store","createStore","applyMiddleware","ReduxThunk","Tag","className","CardPage","length","localStorage","JSON","stringify","jsonObjLocalStor","parse","cardIdLocalStor","selectedObj","split","map","src","webformatURL","alt","likes","comments","style","left","webformatWidth","user","views","downloads","collections","imageWidth","imageHeight","imageSize","Header","setSortBy","setInputTagRef","inputTag","useRef","onClick","onKeyUp","current","value","ref","placeholder","React","memo","previewURL","dispatch","useDispatch","newTagName","useState","createdTagName","setCreatedTegName","hiddenInput","setHiddenInput","onDoubleClick","event","preventDefault","display","onKeyPress","code","changeTagJsonObjActionCreator","setCardId","sortBy","inputTagRef","useEffect","a","axios","get","then","response","cards","undefined","data","hits","catch","console","log","filter","includes","toLowerCase","sort","b","img","largeImageURL","to","textDecoration","width","Main","exact","path","name","render","App","useSelector","Routers","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f7a32af1.chunk.js","sourcesContent":["const NEW_JSON = 'NEW_JSON';\r\nconst CHANGE_TAG_JSON = 'CHANGE_TAG_JSON';\r\n \r\n\r\nconst initialState = []\r\nconst jsonObjReducer = (state=initialState, action) => {\r\n\r\n  switch(action.type) {  \r\n    case NEW_JSON:\r\n      return action.payload\r\n\r\n    case CHANGE_TAG_JSON:\r\n      const newTagObj = state.find(el=> el.id === action.cardId)\r\n      newTagObj.tags += ', ' + action.tagName\r\n\r\n    let newState = state\r\n    state.forEach((el, id) => el.id === action.cardId ? newState.splice(id, 1) : newState)\r\n    \r\n      return [...newState, newTagObj]\r\n    default: \r\n      return state;\r\n  }\r\n\r\n}\r\nexport const jsonObjActionCreator = (cards) => ({type: NEW_JSON, payload: cards})\r\nexport const changeTagJsonObjActionCreator = (cardId, tagName) => (\r\n  {\r\n    type: CHANGE_TAG_JSON, \r\n    cardId: cardId, \r\n    tagName: tagName\r\n})\r\n\r\nexport default jsonObjReducer;","  \r\nimport { combineReducers, createStore, applyMiddleware } from \"redux\";\r\nimport ReduxThunk from 'redux-thunk'\r\n\r\nimport jsonObjReducer from './reducers/jsonObjReducer';\r\n \r\n\r\nconst reducers = combineReducers({\r\n  jsonObj: jsonObjReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  reducers,\r\n    applyMiddleware(\r\n      ReduxThunk\r\n    )\r\n);\r\n\r\nexport default store;","import './scss/tag.scss';\r\n\r\n\r\nfunction Tag({tagName}) {\r\n  return (\r\n    <span className=\"tag\">{tagName}</span> \r\n  );\r\n}\r\n\r\nexport default Tag;\r\n","import './scss/cardPage.scss';\r\nimport Tag from '../photoCards/Tag';\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport SmsOutlinedIcon from '@material-ui/icons/SmsOutlined';\r\n\r\n\r\n\r\nconst CardPage = ({jsonObj, cardId}) =>{\r\n  if(jsonObj.length > 0) localStorage.jsonObj = JSON.stringify(jsonObj)\r\n  if(cardId > 0 ) localStorage.cardId = JSON.stringify(cardId)\r\n  \r\n  let jsonObjLocalStor = JSON.parse( localStorage.jsonObj );\r\n  let cardIdLocalStor = JSON.parse( localStorage.cardId );\r\n  const selectedObj = jsonObjLocalStor.find(el => el.id === cardIdLocalStor)\r\n\r\n  return (\r\n    <div className=\"card-page\">\r\n      {selectedObj.tags.split(',').map((el, id)=> <Tag tagName={el} key={id} />)}\r\n      <img className=\"card-page__img\" src={selectedObj.webformatURL} alt=\"web format img\" />\r\n      <div className=\"statistics\"> \r\n        <ThumbUpAltOutlinedIcon /> {selectedObj.likes} \r\n        <SmsOutlinedIcon className=\"comments-margin\"/> {selectedObj.comments}\r\n      </div>\r\n      <div className=\"photo-information\" style={{left: selectedObj.webformatWidth + 30}}>\r\n        <p className=\"user\">user: {selectedObj.user}</p>\r\n        <p className=\"user\">views: {selectedObj.views}</p>\r\n        <p className=\"user\">downloads: {selectedObj.downloads}</p>\r\n        <p className=\"user\">collections: {selectedObj.collections}</p>\r\n        <p className=\"user\">image width: {selectedObj.imageWidth}</p>\r\n        <p className=\"user\">image height: {selectedObj.imageHeight}</p>\r\n        <p className=\"user\">image size: {selectedObj.imageSize}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default CardPage","import { useRef } from 'react';\r\nimport './scss/header.scss';\r\n\r\nfunction Header({setSortBy, setInputTagRef}) {\r\n  const inputTag = useRef();\r\n  const onButtonUp = () => setInputTagRef(inputTag.current.value);\r\n  \r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"btn-wrapper\">\r\n        <span onClick={() => setSortBy('likes')} className=\"filterLikes\">Likes</span>\r\n        <span onClick={() => setSortBy('comments')} className=\"filterComments\">Comments</span>\r\n      </div>\r\n      <input onKeyUp={onButtonUp} className=\"inputFilter\" type=\"text\"  ref={inputTag}  placeholder='Input tag name for filter'/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useRef, useState } from 'react';\r\nimport './scss/photoCard.scss';\r\nimport { useDispatch } from 'react-redux';\r\nimport {changeTagJsonObjActionCreator} from '../../redux/reducers/jsonObjReducer';\r\n\r\nimport Tag from './Tag';\r\nimport ThumbUpAltOutlinedIcon from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport SmsOutlinedIcon from '@material-ui/icons/SmsOutlined';\r\n\r\nexport default React.memo(\r\n\r\n  function PhotoCard({previewURL, tags, likes, comments, cardId}) {\r\n    const dispatch = useDispatch();\r\n    const newTagName = useRef(null)\r\n    const [createdTagName, setCreatedTegName] = useState()\r\n    const [hiddenInput, setHiddenInput] = useState(true)\r\n    const onButtonUp = () => setCreatedTegName(newTagName.current.value); \r\n    \r\n    const tagKeyPress = (event) => {  \r\n      if(event.code === 'Enter') {\r\n        dispatch(changeTagJsonObjActionCreator(cardId, createdTagName))\r\n        setHiddenInput(!hiddenInput)\r\n        newTagName.current.value = ''\r\n      }\r\n    }\r\n   \r\n    return (\r\n      <div className=\"photoCard\">\r\n        <img className=\"preview\" src={previewURL} alt=\"preview img\" />\r\n      \r\n        <div className=\"statistics\"> \r\n          <ThumbUpAltOutlinedIcon /> {likes} \r\n          <SmsOutlinedIcon className=\"comments-margin\"/> {comments}\r\n        </div>\r\n        {tags.split(',').map((el, id)=> \r\n          <div  \r\n            className=\"tagWrapper\"\r\n            onDoubleClick={(event)=> {\r\n              setHiddenInput(!hiddenInput)\r\n              event.preventDefault()\r\n            }} \r\n            onClick={(event)=>event.preventDefault()} \r\n            key={id} \r\n          >\r\n            <Tag tagName={el} />\r\n          </div>\r\n        )}\r\n        <input \r\n          style={{display: `${hiddenInput === true ? 'none' : 'block'}`}}\r\n          onKeyUp={onButtonUp}\r\n          onKeyPress={tagKeyPress} \r\n          onClick={(event)=>event.preventDefault()} \r\n          className=\"create-tag-input\" ref={newTagName} />\r\n      </div>\r\n    );\r\n  }\r\n)","import {useEffect, useState, memo} from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { HashLink } from 'react-router-hash-link';\r\nimport './scss/mainPage.scss';\r\n\r\nimport Header from '../header/Header'\r\nimport PhotoCard from '../photoCards/PhotoCard'\r\nimport {getCard} from '../../redux/thunks/getJsonThunk';\r\n\r\nexport default memo(\r\n\r\n function MainPage({jsonObj, setCardId}) {\r\n\r\n  const dispatch = useDispatch()\r\n  const [sortBy, setSortBy] = useState()\r\n  const [inputTagRef, setInputTagRef] = useState('')\r\n  const filterCardsByTagName = () => \r\n   jsonObj.filter(el => el.tags.includes(inputTagRef.toLowerCase())).sort((a, b) => a[sortBy] < b[sortBy] ? 1 : -1);\r\n  \r\n  useEffect(() => {\r\n    dispatch(getCard())\r\n  }, [dispatch])\r\n  \r\n  return (\r\n    <div className=\"MainPage\">\r\n      <Header setSortBy={setSortBy} setInputTagRef={setInputTagRef}/>\r\n        <div className=\"photo-card__container\">\r\n          {filterCardsByTagName().map(el => \r\n            <HashLink \r\n              onClick={()=>setCardId(el.id)}\r\n              img={el.largeImageURL}\r\n              to=\"/CardPage\" \r\n              style={{ textDecoration: 'none', width: '25%' }} \r\n              key={el.id}>\r\n              <PhotoCard\r\n                cardId={el.id}\r\n                previewURL={el.webformatURL}\r\n                tags={el.tags}\r\n                likes={el.likes}\r\n                comments={el.comments}\r\n              />\r\n            </HashLink>\r\n          )}\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n)","import axios from 'axios';\r\nimport {jsonObjActionCreator} from '../reducers/jsonObjReducer';\r\n\r\n\r\nconst URL = 'https://pixabay.com/api/?key=22631130-8412d42dbc4bfaad2112d2e09&q=cats&image_type=all&per_page=100'\r\n\r\nexport const getCard = () => {\r\n  return async(dispatch) => {\r\n   await axios.get(URL)\r\n\r\n    .then((response) => {\r\n      if (response.data !== undefined) dispatch(jsonObjActionCreator(response.data.hits))\r\n      })\r\n    .catch(() => console.log('Error'))\r\n  }\r\n}","import { useState } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport CardPage from '../cardPage/CardPage'\r\nimport MainPage from '../mainPage/MainPage';\r\n\r\nconst Main = ({jsonObj}) =>{\r\n  const [cardId, setCardId] = useState({})\r\n  return (\r\n    <main className=\"main\">\r\n      <Switch>\r\n        <Route exact path=\"/\" name=\"Home\" render={() => <MainPage jsonObj={jsonObj} setCardId={setCardId}/>} />\r\n        <Route exact path=\"/CardPage\" name=\"CardPage\" render={() => <CardPage jsonObj={jsonObj} cardId={cardId}/>} />\r\n      </Switch>\r\n    </main>\r\n  )\r\n};\r\n\r\nexport default Main","\nimport './App.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport Routers from './components/routers/Routers'\n\n\nfunction App() {\n  let jsonObj = useSelector(store => store.jsonObj)\n  \n  return (\n    <BrowserRouter>\n      <Routers jsonObj={jsonObj}/>\n    </BrowserRouter>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider}  from 'react-redux';\nimport store from './redux/store';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider  store={store}>\n       <App />\n    </Provider> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}
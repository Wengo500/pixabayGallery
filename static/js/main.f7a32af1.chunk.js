(this["webpackJsonpufo-gallery"]=this["webpackJsonpufo-gallery"]||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(17),r=n.n(s),i=n(12),o=n(23),j=n(39),l=n(43),u="NEW_JSON",d="CHANGE_TAG_JSON",b=[],m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return t.payload;case d:var n=e.find((function(e){return e.id===t.cardId}));n.tags+=", "+t.tagName;var a=e;return e.forEach((function(e,n){return e.id===t.cardId?a.splice(n,1):a})),[].concat(Object(l.a)(a),[n]);default:return e}},O=Object(o.b)({jsonObj:m}),f=Object(o.c)(O,Object(o.a)(j.a)),p=(n(52),n(53),n(16)),g=n(13),h=n(3),x=(n(54),n(55),n(2));var v=function(e){var t=e.tagName;return Object(x.jsx)("span",{className:"tag",children:t})},N=n(21),y=n.n(N),w=n(22),S=n.n(w),C=function(e){var t=e.jsonObj,n=e.cardId;t.length>0&&(localStorage.jsonObj=JSON.stringify(t)),n>0&&(localStorage.cardId=JSON.stringify(n));var a=JSON.parse(localStorage.jsonObj),c=JSON.parse(localStorage.cardId),s=a.find((function(e){return e.id===c}));return Object(x.jsxs)("div",{className:"card-page",children:[s.tags.split(",").map((function(e,t){return Object(x.jsx)(v,{tagName:e},t)})),Object(x.jsx)("img",{className:"card-page__img",src:s.webformatURL,alt:"web format img"}),Object(x.jsxs)("div",{className:"statistics",children:[Object(x.jsx)(y.a,{})," ",s.likes,Object(x.jsx)(S.a,{className:"comments-margin"})," ",s.comments]}),Object(x.jsxs)("div",{className:"photo-information",style:{left:s.webformatWidth+30},children:[Object(x.jsxs)("p",{className:"user",children:["user: ",s.user]}),Object(x.jsxs)("p",{className:"user",children:["views: ",s.views]}),Object(x.jsxs)("p",{className:"user",children:["downloads: ",s.downloads]}),Object(x.jsxs)("p",{className:"user",children:["collections: ",s.collections]}),Object(x.jsxs)("p",{className:"user",children:["image width: ",s.imageWidth]}),Object(x.jsxs)("p",{className:"user",children:["image height: ",s.imageHeight]}),Object(x.jsxs)("p",{className:"user",children:["image size: ",s.imageSize]})]})]})},k=n(42);n(58),n(59);var I=function(e){var t=e.setSortBy,n=e.setInputTagRef,c=Object(a.useRef)();return Object(x.jsxs)("div",{className:"header",children:[Object(x.jsxs)("div",{className:"btn-wrapper",children:[Object(x.jsx)("span",{onClick:function(){return t("likes")},className:"filterLikes",children:"Likes"}),Object(x.jsx)("span",{onClick:function(){return t("comments")},className:"filterComments",children:"Comments"})]}),Object(x.jsx)("input",{onKeyUp:function(){return n(c.current.value)},className:"inputFilter",type:"text",ref:c,placeholder:"Input tag name for filter"})]})},L=(n(60),c.a.memo((function(e){var t=e.previewURL,n=e.tags,c=e.likes,s=e.comments,r=e.cardId,o=Object(i.b)(),j=Object(a.useRef)(null),l=Object(a.useState)(),u=Object(g.a)(l,2),b=u[0],m=u[1],O=Object(a.useState)(!0),f=Object(g.a)(O,2),p=f[0],h=f[1];return Object(x.jsxs)("div",{className:"photoCard",children:[Object(x.jsx)("img",{className:"preview",src:t,alt:"preview img"}),Object(x.jsxs)("div",{className:"statistics",children:[Object(x.jsx)(y.a,{})," ",c,Object(x.jsx)(S.a,{className:"comments-margin"})," ",s]}),n.split(",").map((function(e,t){return Object(x.jsx)("div",{className:"tagWrapper",onDoubleClick:function(e){h(!p),e.preventDefault()},onClick:function(e){return e.preventDefault()},children:Object(x.jsx)(v,{tagName:e})},t)})),Object(x.jsx)("input",{style:{display:"".concat(!0===p?"none":"block")},onKeyUp:function(){return m(j.current.value)},onKeyPress:function(e){"Enter"===e.code&&(o(function(e,t){return{type:d,cardId:e,tagName:t}}(r,b)),h(!p),j.current.value="")},onClick:function(e){return e.preventDefault()},className:"create-tag-input",ref:j})]})}))),R=n(25),_=n.n(R),J=n(40),E=n(41),P=n.n(E),U=Object(a.memo)((function(e){var t=e.jsonObj,n=e.setCardId,c=Object(i.b)(),s=Object(a.useState)(),r=Object(g.a)(s,2),o=r[0],j=r[1],l=Object(a.useState)(""),d=Object(g.a)(l,2),b=d[0],m=d[1];return Object(a.useEffect)((function(){c(function(){var e=Object(J.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("https://pixabay.com/api/?key=22631130-8412d42dbc4bfaad2112d2e09&q=cats&image_type=all&per_page=100").then((function(e){var n;void 0!==e.data&&t((n=e.data.hits,{type:u,payload:n}))})).catch((function(){return console.log("Error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[c]),Object(x.jsxs)("div",{className:"MainPage",children:[Object(x.jsx)(I,{setSortBy:j,setInputTagRef:m}),Object(x.jsx)("div",{className:"photo-card__container",children:t.filter((function(e){return e.tags.includes(b.toLowerCase())})).sort((function(e,t){return e[o]<t[o]?1:-1})).map((function(e){return Object(x.jsx)(k.a,{onClick:function(){return n(e.id)},img:e.largeImageURL,to:"/CardPage",style:{textDecoration:"none",width:"25%"},children:Object(x.jsx)(L,{cardId:e.id,previewURL:e.webformatURL,tags:e.tags,likes:e.likes,comments:e.comments})},e.id)}))})]})})),D=function(e){var t=e.jsonObj,n=Object(a.useState)({}),c=Object(g.a)(n,2),s=c[0],r=c[1];return Object(x.jsx)("main",{className:"main",children:Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{exact:!0,path:"/",name:"Home",render:function(){return Object(x.jsx)(U,{jsonObj:t,setCardId:r})}}),Object(x.jsx)(h.a,{exact:!0,path:"/CardPage",name:"CardPage",render:function(){return Object(x.jsx)(C,{jsonObj:t,cardId:s})}})]})})};var F=function(){var e=Object(i.c)((function(e){return e.jsonObj}));return Object(x.jsx)(p.a,{children:Object(x.jsx)(D,{jsonObj:e})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(i.a,{store:f,children:Object(x.jsx)(F,{})})}),document.getElementById("root")),T()}},[[83,1,2]]]);
//# sourceMappingURL=main.f7a32af1.chunk.js.map